{
  "name": "random",
  "version": 0.1,
  "imports": [
    "https://get.silverbullet.md/global.plug.json"
  ],
  "functions": {
    "randomPage": {
      "command": {
        "name": "Random: Open a random page"
      },
      "code": "(() => { var mod=(()=>{var y=Object.create;var u=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty;var f=(e=>typeof require!=\"undefined\"?require:typeof Proxy!=\"undefined\"?new Proxy(e,{get:(t,n)=>(typeof require!=\"undefined\"?require:t)[n]}):e)(function(e){if(typeof require!=\"undefined\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+e+'\" is not supported')});var c=(e,t)=>{for(var n in t)u(e,n,{get:t[n],enumerable:!0})},m=(e,t,n,o)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let a of v(t))!T.call(e,a)&&a!==n&&u(e,a,{get:()=>t[a],enumerable:!(o=h(t,a))||o.enumerable});return e};var d=(e,t,n)=>(n=e!=null?y(b(e)):{},m(t||!e||!e.__esModule?u(n,\"default\",{value:e,enumerable:!0}):n,e)),w=e=>m(u({},\"__esModule\",{value:!0}),e);var xe={};c(xe,{default:()=>ge});typeof self>\"u\"&&(self={syscall:()=>{throw new Error(\"Not implemented here\")}});var r=self.syscall;var l={};c(l,{dispatch:()=>j,enableReadOnlyMode:()=>$,filterBox:()=>Y,flashNotification:()=>O,getCurrentPage:()=>M,getCursor:()=>C,getSelection:()=>k,getText:()=>F,hidePanel:()=>U,insertAtCursor:()=>G,insertAtPos:()=>B,matchBefore:()=>K,moveCursor:()=>V,navigate:()=>L,openUrl:()=>I,prompt:()=>Q,reloadPage:()=>D,replaceRange:()=>R,save:()=>N,setPage:()=>S,setSelection:()=>E,showPanel:()=>q});function M(){return r(\"editor.getCurrentPage\")}function S(e){return r(\"editor.setPage\",e)}function F(){return r(\"editor.getText\")}function C(){return r(\"editor.getCursor\")}function k(){return r(\"editor.getSelection\")}function E(e,t){return r(\"editor.setSelection\",e,t)}function N(){return r(\"editor.save\")}function L(e,t,n=!1){return r(\"editor.navigate\",e,t,n)}function D(){return r(\"editor.reloadPage\")}function I(e){return r(\"editor.openUrl\",e)}function O(e,t=\"info\"){return r(\"editor.flashNotification\",e,t)}function Y(e,t,n=\"\",o=\"\"){return r(\"editor.filterBox\",e,t,n,o)}function q(e,t,n,o=\"\"){return r(\"editor.showPanel\",e,t,n,o)}function U(e){return r(\"editor.hidePanel\",e)}function B(e,t){return r(\"editor.insertAtPos\",e,t)}function R(e,t,n){return r(\"editor.replaceRange\",e,t,n)}function V(e){return r(\"editor.moveCursor\",e)}function G(e){return r(\"editor.insertAtCursor\",e)}function K(e){return r(\"editor.matchBefore\",e)}function j(e){return r(\"editor.dispatch\",e)}function Q(e,t=\"\"){return r(\"editor.prompt\",e,t)}function $(e){return r(\"editor.enableReadOnlyMode\",e)}var i={};c(i,{deleteAttachment:()=>ie,deletePage:()=>Z,getAttachmentMeta:()=>te,getPageMeta:()=>H,listAttachments:()=>re,listPages:()=>z,listPlugs:()=>ee,readAttachment:()=>ne,readPage:()=>J,writeAttachment:()=>oe,writePage:()=>X});function z(e=!1){return r(\"space.listPages\",e)}function H(e){return r(\"space.getPageMeta\",e)}function J(e){return r(\"space.readPage\",e)}function X(e,t){return r(\"space.writePage\",e,t)}function Z(e){return r(\"space.deletePage\",e)}function ee(){return r(\"space.listPlugs\")}function re(){return r(\"space.listAttachments\")}function te(e){return r(\"space.getAttachmentMeta\",e)}function ne(e){return r(\"space.readAttachment\",e)}function oe(e,t,n){return r(\"space.writeAttachment\",e,t,n)}function ie(e){return r(\"space.deleteAttachment\",e)}var g=d(f(\"https://deno.land/std/encoding/yaml.ts\"));var ae=d(f(\"https://deno.land/std/encoding/yaml.ts\"));var s=self.syscall;async function pe(e){let t=Math.floor(Math.random()*e.length);await l.navigate(e[t].name)}async function P(){let e=await i.listPages();await pe(e)}var ge=P;return w(xe);})();\n return mod;})()"
    },
    "randomPageExcludeDaily": {
      "command": {
        "name": "Random: Open a random page (excluding daily)"
      },
      "code": "(() => { var mod=(()=>{var C=Object.create;var u=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var h=(e=>typeof require!=\"undefined\"?require:typeof Proxy!=\"undefined\"?new Proxy(e,{get:(r,n)=>(typeof require!=\"undefined\"?require:r)[n]}):e)(function(e){if(typeof require!=\"undefined\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+e+'\" is not supported')});var c=(e,r)=>{for(var n in r)u(e,n,{get:r[n],enumerable:!0})},v=(e,r,n,o)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let i of E(r))!L.call(e,i)&&i!==n&&u(e,i,{get:()=>r[i],enumerable:!(o=k(r,i))||o.enumerable});return e};var b=(e,r,n)=>(n=e!=null?C(N(e)):{},v(r||!e||!e.__esModule?u(n,\"default\",{value:e,enumerable:!0}):n,e)),D=e=>v(u({},\"__esModule\",{value:!0}),e);var Ce={};c(Ce,{default:()=>Fe});typeof self>\"u\"&&(self={syscall:()=>{throw new Error(\"Not implemented here\")}});var t=self.syscall;var l={};c(l,{dispatch:()=>ee,enableReadOnlyMode:()=>te,filterBox:()=>$,flashNotification:()=>Q,getCurrentPage:()=>O,getCursor:()=>U,getSelection:()=>B,getText:()=>q,hidePanel:()=>_,insertAtCursor:()=>X,insertAtPos:()=>z,matchBefore:()=>Z,moveCursor:()=>J,navigate:()=>G,openUrl:()=>j,prompt:()=>re,reloadPage:()=>K,replaceRange:()=>H,save:()=>V,setPage:()=>Y,setSelection:()=>R,showPanel:()=>W});function O(){return t(\"editor.getCurrentPage\")}function Y(e){return t(\"editor.setPage\",e)}function q(){return t(\"editor.getText\")}function U(){return t(\"editor.getCursor\")}function B(){return t(\"editor.getSelection\")}function R(e,r){return t(\"editor.setSelection\",e,r)}function V(){return t(\"editor.save\")}function G(e,r,n=!1){return t(\"editor.navigate\",e,r,n)}function K(){return t(\"editor.reloadPage\")}function j(e){return t(\"editor.openUrl\",e)}function Q(e,r=\"info\"){return t(\"editor.flashNotification\",e,r)}function $(e,r,n=\"\",o=\"\"){return t(\"editor.filterBox\",e,r,n,o)}function W(e,r,n,o=\"\"){return t(\"editor.showPanel\",e,r,n,o)}function _(e){return t(\"editor.hidePanel\",e)}function z(e,r){return t(\"editor.insertAtPos\",e,r)}function H(e,r,n){return t(\"editor.replaceRange\",e,r,n)}function J(e){return t(\"editor.moveCursor\",e)}function X(e){return t(\"editor.insertAtCursor\",e)}function Z(e){return t(\"editor.matchBefore\",e)}function ee(e){return t(\"editor.dispatch\",e)}function re(e,r=\"\"){return t(\"editor.prompt\",e,r)}function te(e){return t(\"editor.enableReadOnlyMode\",e)}var f={};c(f,{parseMarkdown:()=>oe});function oe(e){return t(\"markdown.parseMarkdown\",e)}var s={};c(s,{deleteAttachment:()=>xe,deletePage:()=>ce,getAttachmentMeta:()=>de,getPageMeta:()=>ae,listAttachments:()=>me,listPages:()=>se,listPlugs:()=>fe,readAttachment:()=>pe,readPage:()=>le,writeAttachment:()=>ge,writePage:()=>ue});function se(e=!1){return t(\"space.listPages\",e)}function ae(e){return t(\"space.getPageMeta\",e)}function le(e){return t(\"space.readPage\",e)}function ue(e,r){return t(\"space.writePage\",e,r)}function ce(e){return t(\"space.deletePage\",e)}function fe(){return t(\"space.listPlugs\")}function me(){return t(\"space.listAttachments\")}function de(e){return t(\"space.getAttachmentMeta\",e)}function pe(e){return t(\"space.readAttachment\",e)}function ge(e,r,n){return t(\"space.writeAttachment\",e,r,n)}function xe(e){return t(\"space.deleteAttachment\",e)}function d(e,r){if(r(e))return[e];let n=[];if(e.children)for(let o of e.children)n=[...n,...d(o,r)];return n}function p(e,r){return d(e,n=>n.type===r)[0]}function T(e,r){d(e,r)}var g=b(h(\"https://deno.land/std/encoding/yaml.ts\"));async function w(e,r=[\"yaml\"]){let n=await s.readPage(e),o=await f.parseMarkdown(n),i={};return T(o,m=>{if(m.type!==\"FencedCode\")return!1;let x=p(m,\"CodeInfo\");if(!x||!r.includes(x.children[0].text))return!1;let P=p(m,\"CodeText\");if(!P)return!1;let F=P.children[0].text;try{i=g.parse(F)}catch(y){throw console.error(\"YAML Page parser error\",y),new Error(`YAML Error: ${y.message}`)}return!0}),i}var ye=b(h(\"https://deno.land/std/encoding/yaml.ts\"));var he=\"SETTINGS\";async function A(e){try{let r=await w(he,[\"yaml\"])||{},n={};for(let[o,i]of Object.entries(e))o in r?n[o]=r[o]:n[o]=i;return n}catch(r){if(r.message===\"Page not found\")return e;throw r}}var a=self.syscall;async function Se(e){let r=Math.floor(Math.random()*e.length);await l.navigate(e[r].name)}async function S(){let e=await s.listPages(),n=(await A({dailyNotePrefix:null})).dailyNotePrefix;console.log(n);let o=e.filter(i=>!n||!i.name.startsWith(n));await Se(o)}var Fe=S;return D(Ce);})();\n return mod;})()"
    },
    "randomPageWithTag": {
      "command": {
        "name": "Random: Open a random page (with tag)"
      },
      "code": "(() => { var mod=(()=>{var v=Object.create;var l=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var d=(e=>typeof require!=\"undefined\"?require:typeof Proxy!=\"undefined\"?new Proxy(e,{get:(r,n)=>(typeof require!=\"undefined\"?require:r)[n]}):e)(function(e){if(typeof require!=\"undefined\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+e+'\" is not supported')});var m=(e,r)=>{for(var n in r)l(e,n,{get:r[n],enumerable:!0})},p=(e,r,n,o)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let i of T(r))!A.call(e,i)&&i!==n&&l(e,i,{get:()=>r[i],enumerable:!(o=b(r,i))||o.enumerable});return e};var g=(e,r,n)=>(n=e!=null?v(w(e)):{},p(r||!e||!e.__esModule?l(n,\"default\",{value:e,enumerable:!0}):n,e)),M=e=>p(l({},\"__esModule\",{value:!0}),e);var ue={};m(ue,{default:()=>le});typeof self>\"u\"&&(self={syscall:()=>{throw new Error(\"Not implemented here\")}});var t=self.syscall;var a={};m(a,{dispatch:()=>W,enableReadOnlyMode:()=>_,filterBox:()=>U,flashNotification:()=>q,getCurrentPage:()=>F,getCursor:()=>E,getSelection:()=>N,getText:()=>k,hidePanel:()=>R,insertAtCursor:()=>j,insertAtPos:()=>V,matchBefore:()=>Q,moveCursor:()=>K,navigate:()=>I,openUrl:()=>Y,prompt:()=>$,reloadPage:()=>O,replaceRange:()=>G,save:()=>D,setPage:()=>C,setSelection:()=>L,showPanel:()=>B});function F(){return t(\"editor.getCurrentPage\")}function C(e){return t(\"editor.setPage\",e)}function k(){return t(\"editor.getText\")}function E(){return t(\"editor.getCursor\")}function N(){return t(\"editor.getSelection\")}function L(e,r){return t(\"editor.setSelection\",e,r)}function D(){return t(\"editor.save\")}function I(e,r,n=!1){return t(\"editor.navigate\",e,r,n)}function O(){return t(\"editor.reloadPage\")}function Y(e){return t(\"editor.openUrl\",e)}function q(e,r=\"info\"){return t(\"editor.flashNotification\",e,r)}function U(e,r,n=\"\",o=\"\"){return t(\"editor.filterBox\",e,r,n,o)}function B(e,r,n,o=\"\"){return t(\"editor.showPanel\",e,r,n,o)}function R(e){return t(\"editor.hidePanel\",e)}function V(e,r){return t(\"editor.insertAtPos\",e,r)}function G(e,r,n){return t(\"editor.replaceRange\",e,r,n)}function K(e){return t(\"editor.moveCursor\",e)}function j(e){return t(\"editor.insertAtCursor\",e)}function Q(e){return t(\"editor.matchBefore\",e)}function W(e){return t(\"editor.dispatch\",e)}function $(e,r=\"\"){return t(\"editor.prompt\",e,r)}function _(e){return t(\"editor.enableReadOnlyMode\",e)}var P=g(d(\"https://deno.land/std/encoding/yaml.ts\"));var X=g(d(\"https://deno.land/std/encoding/yaml.ts\"));var s=self.syscall;var c={};m(c,{dispatchEvent:()=>ee,listEvents:()=>re});function ee(e,r,n){return new Promise((o,i)=>{let f=-1;n&&(f=setTimeout(()=>{console.log(\"Timeout!\"),i(\"timeout\")},n)),s(\"event.dispatch\",e,r).then(h=>{f!==-1&&clearTimeout(f),o(h)}).catch(i)})}function re(){return s(\"event.list\")}async function ae(e){let r=Math.floor(Math.random()*e.length);await a.navigate(e[r].name)}async function y(){let e=await a.prompt(\"Random page must contain tag:\");if(!e)return;let r=await c.dispatchEvent(\"query:page\",{query:{table:\"page\",filter:[{op:\"=\",prop:\"tags\",value:e}]}},10*1e3);console.log(r),r[0].length!==0&&await ae(r[0])}var le=y;return M(ue);})();\n return mod;})()"
    }
  },
  "assets": {}
}